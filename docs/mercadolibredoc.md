Informe de Análisis Funcional: API de Mercado Libre para DesarrolladoresSección 1: Arquitectura Central y Autenticación1.1. El Ecosistema de APIs de Mercado LibreLa plataforma de Mercado Libre expone sus funcionalidades a través de un ecosistema de APIs interconectadas, construidas predominantemente bajo el paradigma REST (Representational State Transfer). Este enfoque arquitectónico se caracteriza por su simplicidad, escalabilidad y el uso de estándares web consolidados, como el protocolo HTTP y el formato de intercambio de datos JSON (JavaScript Object Notation).1El ecosistema no es una API monolítica, sino una federación de servicios que reflejan la estructura de las unidades de negocio de la compañía. Para una integración completa, es fundamental comprender y interactuar con las APIs de las siguientes áreas principales 3:Mercado Libre (Marketplace): Es el núcleo de la plataforma. Su API gestiona el ciclo de vida completo de las publicaciones (ítems), las preguntas y respuestas, las órdenes de venta y la reputación de los vendedores.Mercado Shops: Provee las herramientas para gestionar tiendas online personalizadas, permitiendo a los vendedores controlar la visibilidad de sus productos en el marketplace general o exclusivamente en su tienda.4Mercado Envíos: Centraliza toda la funcionalidad logística, desde el cálculo de costos de envío y la generación de etiquetas hasta el seguimiento detallado de los paquetes a través de diferentes modalidades (Fulfillment, Flex, Cross Docking).4Mercado Pago: Aunque es una plataforma financiera con su propio y extenso conjunto de APIs, su integración es indispensable en el contexto del marketplace para la gestión de pagos, la consulta de estados de transacción y el procesamiento de reembolsos.7Adicionalmente, la documentación oficial destaca tres pilares transversales que constituyen el punto de partida para cualquier desarrollo 3:Gestión de aplicaciones: El área donde se crean y configuran las credenciales y permisos de la integración.Recursos Cross: Un conjunto de recursos y guías que aplican a todo el ecosistema, como la gestión de usuarios, ubicaciones y monedas.Seguridad: Documentación esencial sobre las mejores prácticas para el manejo de credenciales y la protección de datos de usuario.La estructura modular de la API refleja directamente la organización interna de Mercado Libre. Esto implica que los desarrolladores deben diseñar sus integraciones no como un simple consumidor de endpoints de un solo dominio, sino como un orquestador que realiza llamadas a múltiples servicios (api.mercadolibre.com, api.mercadopago.com) para completar un ciclo de venta de extremo a extremo.1.2. Proceso de Creación y Configuración de AplicacionesEl primer paso ineludible para interactuar con la API es el registro de una aplicación en el portal para desarrolladores, conocido como DevCenter.12 Este proceso genera las credenciales únicas que identificarán y autenticarán a la integración.La configuración de la aplicación requiere la definición de varios parámetros clave 13:Información Básica: Incluye un nombre único para la aplicación, una descripción corta (hasta 150 caracteres) que se mostrará a los usuarios durante el proceso de autorización, y un logo.URIs de redirect: Son las URLs a las que Mercado Libre redirigirá al usuario después de que este otorgue (o deniegue) los permisos a la aplicación. Es un componente crítico del flujo de autenticación OAuth 2.0.Scopes (Permisos): Definen el nivel de acceso que la aplicación tendrá sobre los datos de un usuario. Los principales son:read: Permite el uso de métodos GET para consultar información.write: Permite el uso de métodos POST, PUT, y DELETE para crear o modificar datos.offline_access: Esencial para aplicaciones de backend. Otorga un refresh_token que permite a la aplicación obtener nuevos access_tokens sin requerir la intervención del usuario cada vez que el token actual expira. Esto es fundamental para procesos automatizados como la sincronización de stock o la gestión de órdenes.13Tópicos de Notificaciones y Callback URL: La plataforma ofrece un sistema de notificaciones basado en webhooks. Durante la configuración de la aplicación, se debe proveer una Notifications callbacks URL pública donde el sistema recibirá notificaciones POST en tiempo real sobre eventos específicos. El desarrollador debe seleccionar los Tópicos de interés, como cambios en ítems, nuevas preguntas, creación o actualización de órdenes, entre otros. Este mecanismo es la piedra angular para construir una integración reactiva y eficiente.13La arquitectura de la API de Mercado Libre está diseñada para favorecer integraciones asíncronas y basadas en eventos. La prominencia del sistema de notificaciones en la documentación no es una mera sugerencia, sino una indicación clara del paradigma de diseño preferido por la plataforma. Un producto que dependa exclusivamente de la consulta repetitiva (polling) para detectar cambios será inherentemente ineficiente, propenso a exceder los límites de tasa y, fundamentalmente, operará en contra del diseño de la plataforma. Por lo tanto, la implementación de un receptor de webhooks robusto para los tópicos relevantes (orders_v2, items, questions, messages, shipments) debe ser considerada un pilar fundamental para la escalabilidad y el rendimiento en tiempo real de cualquier integración seria.1.3. Flujo de Autenticación OAuth 2.0El acceso a los datos de un usuario se gestiona a través del protocolo estándar de la industria OAuth 2.0, que garantiza que una aplicación pueda actuar en nombre de un usuario sin necesidad de almacenar sus credenciales (usuario y contraseña). El flujo es el siguiente:Autorización del Usuario: La aplicación redirige al usuario a una URL de autorización de Mercado Libre. Esta URL se construye utilizando el App ID (también conocido como client_id) de la aplicación y una de las redirect_uri preconfiguradas.14 En esta página, el usuario ve la información de la aplicación y los permisos que está solicitando, y decide si desea permitir el acceso.Obtención del Código de Autorización: Si el usuario concede el permiso, Mercado Libre lo redirige de vuelta a la redirect_uri especificada. En los parámetros de esta URL de redirección se incluye un code de autorización temporal.15Intercambio del Código por Tokens: La aplicación, desde su backend, realiza una solicitud POST al endpoint de tokens de Mercado Libre. Esta solicitud incluye el code recién obtenido, junto con sus credenciales seguras (client_id y client_secret). A cambio, Mercado Libre devuelve un access_token y, si se solicitó el scope offline_access, un refresh_token.15Uso del Access Token: El access_token es una cadena de caracteres que representa la autorización del usuario. Debe ser incluido en todas las solicitudes subsecuentes a la API dentro del encabezado HTTP Authorization con el formato Bearer $ACCESS_TOKEN.19 Estos tokens tienen una vida útil limitada.Renovación del Access Token: Cuando un access_token expira, en lugar de volver a solicitar la autorización del usuario, la aplicación puede utilizar el refresh_token (que tiene una vida útil mucho más larga) para solicitar un nuevo access_token de forma silenciosa. Este mecanismo es el que permite la operación continua de los procesos de backend.81.4. Consideraciones de Diseño EsencialesPara construir una integración robusta y escalable, es imperativo tener en cuenta las siguientes consideraciones de diseño impuestas por la API:Paginación: La mayoría de los endpoints que devuelven listas de resultados (como la búsqueda de ítems u órdenes) utilizan un sistema de paginación. Los parámetros limit (define el tamaño de la página, usualmente con un valor por defecto de 50) y offset (define el punto de inicio dentro del conjunto total de resultados) son utilizados para navegar a través de los datos. Las respuestas de estos endpoints incluyen un objeto paging que informa sobre el total de resultados, el limit y el offset aplicados, permitiendo a la aplicación construir la lógica de paginación necesaria.1Límites de Tasa (Rate Limiting): Para proteger la estabilidad de la plataforma, la API impone límites en la cantidad de solicitudes que una aplicación puede realizar en un período de tiempo determinado. La documentación menciona un límite de 1500 solicitudes por minuto por vendedor. Si una aplicación excede este límite, la API responderá con un código de estado HTTP 429 Too Many Requests. Es responsabilidad de la integración manejar este tipo de respuesta, implementando estrategias como exponential backoff (esperar un tiempo creciente antes de reintentar) y un uso inteligente de la caché para minimizar el número de llamadas redundantes.21Manejo de Errores: La API utiliza códigos de estado HTTP estándar para comunicar el resultado de una solicitud (ej. 200 OK, 201 Created, 400 Bad Request, 404 Not Found, 403 Forbidden). Las respuestas de error suelen incluir un cuerpo en formato JSON con detalles adicionales, como un message legible, un error codificado y el status.19 Un caso particular y notable es el código 206 Partial Content, que indica que la solicitud fue procesada pero no se pudo obtener toda la información solicitada (por ejemplo, falló la obtención de la reputación de un usuario). En estos casos, la respuesta incluirá los datos que sí se pudieron recuperar.19Sección 2: Gestión de Entidades: Usuarios y Aplicaciones2.1. Consulta de Datos de UsuarioLa API proporciona varios endpoints para interactuar con la entidad de usuario, distinguiendo claramente entre la información pública y la privada.Datos del Usuario Autenticado: El endpoint GET /users/me es un atajo para obtener la información del usuario cuyo access_token se está utilizando en la solicitud. Es la forma canónica de verificar la identidad y los datos básicos del usuario que ha autorizado la aplicación.19Datos Públicos de un Usuario: Es posible consultar la información pública de cualquier usuario de la plataforma conociendo su ID, a través del endpoint GET /users/{User_id}. Esta respuesta incluye datos como el nickname, la reputación, la fecha de registro y la ubicación general.14Acceso a Datos Privados: Para obtener datos sensibles de un usuario, como su nombre completo, email, teléfono o dirección, se debe realizar una llamada al mismo endpoint (GET /users/{User_id}), pero utilizando un access_token que pertenezca a ese usuario específico. La API enriquece automáticamente la respuesta con esta información privada, subrayando la importancia de que la aplicación maneje estos datos con la máxima confidencialidad y solo cuando sea estrictamente necesario para la funcionalidad.192.2. Mecanismos de Bloqueo de UsuariosPara permitir a los vendedores gestionar interacciones no deseadas, la API ofrece funcionalidades para bloquear a otros usuarios, impidiéndoles realizar preguntas o comprar sus productos. Recientemente, estos servicios se han unificado en un único endpoint para simplificar su gestión.19Consulta de Usuarios Bloqueados: El endpoint GET /block-api/search/users/{user_id} permite a un vendedor (caller.id) consultar la lista de usuarios que ha bloqueado. El parámetro type es obligatorio y puede tener los valores blocked_by_questions o blocked_by_order para filtrar por el tipo de bloqueo.19Gestión de la Lista Negra de Preguntas:Para bloquear a un usuario e impedir que haga preguntas, se realiza una solicitud POST al endpoint /users/$SELLER_ID/questions_blacklist, enviando en el cuerpo el user_id del usuario a bloquear.19Para desbloquear a un usuario, se utiliza el método DELETE en el endpoint /users/$SELLER_ID/questions_blacklist/$USER_ID.192.3. Novedades Relevantes para la Gestión de UsuariosEl seguimiento de las novedades de la API es crucial, ya que algunos cambios pueden tener un impacto profundo en la estabilidad de una integración.Cambio Crítico - IDs de Usuario a Int64: El 13 de diciembre de 2024, Mercado Libre anunció que los nuevos IDs de usuario excederán el límite de un entero de 32 bits (Int32) y pasarán a utilizar un entero de 64 bits (Int64).26Este no es un cambio menor; es una modificación fundamental en el tipo de dato de un identificador primario en todo el sistema. La razón subyacente es el crecimiento masivo de la plataforma, que ha superado la capacidad de un Int32 para representar a todos sus usuarios (aproximadamente 2.147 millones). Este cambio tiene implicaciones técnicas de gran alcance:Base de Datos: Los esquemas de las bases de datos que almacenen user_id deben ser alterados para soportar tipos de datos como BIGINT en lugar de INTEGER. Esto afecta a claves primarias, claves foráneas y cualquier índice relacionado.Código de la Aplicación: En lenguajes de programación tipados, todas las variables, propiedades de objetos y modelos de datos que representen un user_id deben ser declarados utilizando tipos de 64 bits (ej. long en Java o C#, int64 en Go). No hacerlo puede provocar errores de desbordamiento numérico (integer overflow).Serialización y Comunicación: Los sistemas que se comunican a través de APIs deben asegurarse de que sus librerías de serialización/deserialización de JSON puedan manejar números de esta magnitud sin pérdida de precisión.La auditoría de cualquier integración existente debe tratar este punto como una alerta de máxima prioridad. No es una nueva funcionalidad opcional, sino un requisito de supervivencia técnica. Es imperativo verificar que todas las capas del sistema (base de datos, backend, e incluso frontend si maneja estos IDs) están preparadas para manejar identificadores de 64 bits. No hacerlo resultará en fallos catastróficos e impredecibles cuando el sistema intente procesar datos de usuarios nuevos. Este es un ejemplo paradigmático de cómo el no seguir las "Novedades" de la API puede llevar a la obsolescencia funcional de un producto.Sección 3: El Ciclo de Vida de la Publicación (Items)La gestión de ítems es, sin duda, el área más compleja y rica en funcionalidades de la API de Mercado Libre. Abarca desde la simple creación de un producto hasta la competencia en el catálogo y la gestión de múltiples canales de venta.3.1. Creación y Publicación de Items (POST /items)Para crear una nueva publicación, se debe enviar una solicitud POST al endpoint /items con un cuerpo JSON que describa el producto. Los atributos fundamentales son 18:title: El título del producto.category_id: El identificador de la categoría en la que se publicará el ítem. Obtener la categoría correcta es crucial, y para ello se puede utilizar el Predictor de Categorías de la API, que sugiere la categoría más adecuada a partir de un título.18price: El precio del producto.currency_id: El código de la moneda (ej. ARS, BRL, MXN).available_quantity: La cantidad de stock disponible.buying_mode: Generalmente buy_it_now.condition: El estado del producto (new, used, not_specified).listing_type_id: El tipo de publicación (ej. gold_special), que determina la exposición y las comisiones.pictures: Un array de objetos, cada uno con una URL (source) de una imagen del producto.Gestión de Atributos y Descripción:La plataforma está migrando de descripciones y títulos de texto libre hacia datos más estructurados para mejorar la calidad de la información.Atributos de Categoría: Cada categoría tiene un conjunto de atributos específicos (ej. Marca, Modelo, Color). Para crear una publicación de alta calidad, es necesario consultar estos atributos mediante GET /categories/$CATEGORY_ID/attributes y luego incluirlos en el JSON de creación dentro de un array attributes. Algunos de estos atributos son obligatorios (required).18Descripción del Producto: La descripción ya no se envía directamente en la creación del ítem. El flujo correcto es: 1) Crear el ítem sin descripción mediante POST /items. 2) Una vez creado, añadir la descripción (en texto plano, no HTML) con una solicitud POST /items/$ITEM_ID/description. El campo descriptions en las respuestas de GET /items ha sido desactivado y devolverá un array vacío.183.2. Búsqueda y Recuperación de Datos de ItemsLa API ofrece múltiples formas de buscar y recuperar información de las publicaciones, adaptadas a diferentes casos de uso.Búsqueda Pública: El endpoint GET /sites/$SITE_ID/search permite realizar búsquedas anónimas, simulando lo que un comprador vería en el sitio web. Se puede buscar por texto libre (q), categoría, seller_id, entre otros filtros. Es importante notar que algunos de estos métodos de búsqueda están siendo reemplazados por endpoints privados más específicos.30Búsqueda Privada (por Vendedor): El método recomendado y más potente para obtener las publicaciones de un vendedor específico es GET /users/$USER_ID/items/search. Este endpoint, que requiere autenticación, ofrece filtros avanzados cruciales para la gestión de inventario 30:SKU: Permite buscar ítems por su código de producto interno, utilizando los campos seller_custom_field o el atributo SELLER_SKU.Salud de la Publicación: Filtra por el estado de exposición del ítem, que puede ser unhealthy (perdiendo exposición), warning (en riesgo de perderla) o healthy.Identificadores de Producto: Permite encontrar ítems a los que les falta o tienen un identificador de producto (GTIN, UPC, EAN) con el filtro missing_product_identifiers.Recuperación Múltiple (Multiget): Para optimizar el rendimiento y reducir el número de llamadas, el endpoint GET /items?ids=$ITEM_ID1,$ITEM_ID2,... permite recuperar la información de hasta 20 ítems en una sola solicitud. Adicionalmente, se puede usar el parámetro attributes para especificar qué campos se desean recibir (ej. &attributes=id,price,title), lo que reduce significativamente el tamaño de la respuesta y el tiempo de transferencia.1Búsqueda Extensiva: Para obtener más de 1000 registros de un vendedor, que es el límite de la paginación tradicional, se debe utilizar el parámetro search_type=scan en el endpoint /users/$USER_ID/items/search.303.3. Modificación y Sincronización de Publicaciones (PUT /items/$ITEM_ID)Una vez que un ítem está activo, se puede modificar enviando una solicitud PUT al endpoint /items/$ITEM_ID. Sin embargo, existen reglas importantes 21:Atributos Modificables: Se pueden actualizar campos como title (solo si no tiene ventas), price, pictures y available_quantity.Atributos Inmutables (post-venta): Campos críticos como buying_mode y condition no pueden ser modificados una vez que el ítem ha recibido al menos una venta. El listing_type_id solo puede ser modificado una vez.Gestión de Stock: La actualización del campo available_quantity tiene un efecto directo en el estado de la publicación. Enviar un valor de 0 pausará automáticamente el ítem (status: "paused", substatus: "out_of_stock"). Al actualizarlo a un valor mayor que cero, el ítem se reactivará (status: "active").21Gestión de Estados: El estado (status) de una publicación puede ser gestionado explícitamente. Los estados principales son active, paused y closed. El flujo completo también incluye estados intermedios como under_review, cuando una publicación está siendo revisada por los sistemas de moderación de Mercado Libre.333.4. Gestión Avanzada: Atributos, Variaciones y CatálogoPara productos complejos y para competir eficazmente, la API ofrece funcionalidades avanzadas.Variaciones: Para productos que vienen en diferentes versiones (ej. ropa por talle y color, celulares por color y memoria), se debe utilizar el array variations. Cada objeto dentro de este array representa una variación específica y contiene sus attribute_combinations (ej. {"name": "Color", "value_name": "Azul"}), su propio price, available_quantity y picture_ids asociadas.21Catálogo: Mercado Libre está impulsando activamente su Catálogo, que agrupa todas las publicaciones del mismo producto en una única página, donde los vendedores compiten por la "buy box". La API proporciona endpoints para 26:Verificar si un producto es elegible para catálogo (/catalog_eligibility).Buscar productos en el catálogo.Publicar un ítem asociándolo a un producto de catálogo existente, lo que permite competir directamente con otros vendedores.Guías de Talles: Específicamente para categorías de moda y calzado, la API permite crear y asociar guías de talles a las publicaciones, mejorando significativamente la experiencia de compra y reduciendo las devoluciones.263.5. Integración con Verticales y PlataformasLa API de ítems se adapta a diferentes contextos de venta.Mercado Shops: Para gestionar la presencia de un producto en la tienda online de un vendedor, se utiliza el array channels en el cuerpo de la solicitud POST o PUT a /items. Los valores pueden ser ["marketplace"] (solo en Mercado Libre), ["mshops"] (solo en la tienda) o ["marketplace", "mshops"] (en ambos canales). Para saber si un vendedor tiene una tienda, se puede buscar el tag mshops en los datos del usuario.5Global Selling (CBT): El flujo de publicación internacional ha sido renovado. El nuevo modelo de "Global Listing" permite crear en un solo paso el ítem "padre" en el sitio global (site_id: "CBT", con precio en USD y contenido en inglés) y, simultáneamente, sus ítems "hijos" locales en los marketplaces deseados (ej. México, Brasil). Este nuevo flujo simplifica enormemente la gestión y reemplaza al flujo anterior, que ha sido deprecado.29Inmuebles y Vehículos: Estas son "verticales" con guías de API dedicadas. Sus publicaciones son de tipo "clasificado" y tienen atributos, flujos de contacto y modelos de precios completamente diferentes a los de los productos de marketplace.4La evolución de la API de items revela una clara estrategia por parte de Mercado Libre hacia la estructuración de datos y la centralización de la oferta. La insistencia en el uso de Catálogo, identificadores de producto, atributos específicos y guías de talles busca transformar la información del producto de texto libre a datos estructurados y de alta calidad. Simultáneamente, los flujos de Global Selling y Mercado Shops promueven un modelo donde un único producto lógico en el inventario del vendedor se manifiesta en múltiples publicaciones, gestionadas desde un punto central.Una integración que ignore esta tendencia y trate las publicaciones como simples registros planos con título y precio no solo ofrecerá una peor experiencia, sino que será activamente penalizada por los algoritmos de la plataforma, que priman la calidad de los datos para determinar la visibilidad. Por lo tanto, una auditoría de la integración debe evaluar si el modelo de datos interno es capaz de reflejar esta estructura rica y compleja (productos, atributos, variaciones, mapeos a catálogo, canales). La flexibilidad para adaptarse a los nuevos flujos de publicación, que se anuncian con regularidad, es un factor clave para el éxito a largo plazo.Sección 4: Gestión de Transacciones: Órdenes y VentasUna vez que un comprador realiza una compra, se genera una orden, que es el objeto central que vincula al comprador, al vendedor, los productos, el pago y el envío.4.1. Recuperación y Búsqueda de ÓrdenesObtener una Orden Individual: El endpoint principal es GET /orders/$ORDER_ID. La respuesta es un objeto JSON exhaustivo que contiene toda la información de la transacción, incluyendo 22:id: El identificador único de la orden.status: El estado actual de la orden (ej. paid, cancelled).date_created y date_closed: Fechas clave del ciclo de vida de la orden.buyer y seller: Objetos con información de las partes involucradas.order_items: Un array con los productos comprados, cantidades y precios.payments: Un array con los pagos asociados.shipping: Un objeto con el ID del envío asociado.feedback: Información sobre la calificación de la venta.tags: Etiquetas contextuales como paid, not_delivered, mshops.Búsqueda de Órdenes: Para buscar órdenes, se utiliza el endpoint GET /orders/search, que debe ir acompañado de filtros. Los filtros más comunes son seller (para obtener las órdenes de un vendedor), order.status, rangos de fechas (order.date_created.from/to), y el parámetro sort para ordenar los resultados (ej. sort=date_desc).22 Es importante destacar que el historial de órdenes accesibles a través de la API está limitado a los últimos 12 meses.22Órdenes de Mercado Shops: Las órdenes generadas a través de una tienda de Mercado Shops se pueden identificar y filtrar utilizando la etiqueta mshops en la búsqueda: ...&tags=mshops.224.2. El Ciclo de Vida y los Estados de una OrdenUna orden transita por varios estados a lo largo de su ciclo de vida. Comprender estos estados es fundamental para la correcta gestión de las ventas. Los estados principales son 22:confirmed: La orden ha sido creada pero el pago aún no se ha procesado.payment_required: Se requiere una acción del comprador para completar el pago.paid: El pago ha sido acreditado. Este es el estado que generalmente desencadena el proceso de envío.cancelled: La orden ha sido cancelada, ya sea por el comprador, el vendedor o el sistema.Las tags proporcionan información contextual adicional de forma rápida y eficiente, permitiendo, por ejemplo, identificar si una orden ya fue pagada (paid) o si es una venta de carrito (pack_order).4.3. Acceso a Datos de Facturación y Descuentos AplicadosPara facilitar la gestión administrativa y contable de los vendedores, la API ofrece endpoints específicos para obtener datos financieros detallados.Datos de Facturación: El proceso para obtener los datos fiscales del comprador consta de dos pasos. Primero, se debe obtener el billing_info.id del objeto buyer en la respuesta de GET /orders/$ORDER_ID. Luego, con ese ID, se realiza una segunda llamada a GET /orders/billing-info/$SITE_ID/$BILLING_INFO.ID para obtener la información fiscal completa, como nombre, identificación fiscal (DNI, CUIL, etc.) y dirección de facturación.37Descuentos Aplicados: El endpoint GET /orders/$ORDER_ID/discounts proporciona un desglose detallado de todos los descuentos que se aplicaron en una venta. Esto permite a los vendedores entender qué parte del descuento fue financiada por Mercado Libre (en una campaña) y cuál fue asumida por ellos, facilitando la conciliación de sus cuentas.22El diseño de la API de órdenes, al contener IDs que enlazan a otras entidades como envíos y pagos, obliga a una arquitectura de "orquestación". Un sistema de gestión de ventas eficiente no debería limitarse a obtener la información de la orden en una sola llamada. En su lugar, debería utilizar la notificación de una nueva orden (del tópico orders_v2) como un disparador para iniciar un flujo de trabajo asíncrono. Este flujo se encargaría de recuperar y ensamblar progresivamente toda la información relevante de los endpoints relacionados (envío, pago, facturación, etc.), creando un registro completo y enriquecido de la transacción. Este enfoque es más resiliente a fallos parciales de la API y mucho más escalable que un procesamiento puramente síncrono.Sección 5: Logística y Envíos (Mercado Envíos)La API de Mercado Envíos es una de las más críticas para la operación de un vendedor, ya que la logística es un pilar fundamental de la experiencia de compra y un factor determinante en la reputación.5.1. Consulta de Envíos y CostosObtener Datos de un Envío: El endpoint central es GET /shipments/$SHIPMENT_ID. Es mandatorio incluir el encabezado x-format-new: true en la solicitud para recibir la estructura de datos más reciente y completa.6 La respuesta contiene toda la información logística: origen, destino, estado actual, historial, ítems incluidos, etc.Cálculo y Consulta de Costos:Para calcular el costo de un envío potencial, se puede usar GET /sites/$SITE_ID/shipping_options, proporcionando códigos postales y dimensiones.38Para un envío ya creado, el endpoint GET /shipments/$SHIPMENT_ID/costs devuelve un desglose de los costos que afronta cada parte (comprador y vendedor), incluyendo posibles descuentos.6Métodos de Envío: Para conocer los métodos de envío disponibles en un país específico, se puede consultar GET /sites/$SITE_ID/shipping_methods.385.2. Seguimiento de Envíos y Actualización de EstadosHistorial de Estados: El endpoint GET /shipments/$SHIPMENT_ID/history proporciona un registro cronológico de todos los cambios de estado y subestado por los que ha pasado un envío, permitiendo una trazabilidad completa.6 La documentación incluye tablas que mapean estos estados de la API a los mensajes que ve el usuario final, diferenciando entre flujos como Cross Docking y Fulfillment.6Actualización de Estados (ME1): Para los vendedores que gestionan sus propios envíos (modalidad ME1), la API permite notificar los eventos clave del proceso. Utilizando POST /shipments/$SHIPMENT_ID/seller_notifications, pueden marcar un envío como despachado (shipped) o en camino para la entrega (out_for_delivery), y proporcionar el número de seguimiento (tracking_number).39Reporte de Seguimiento (Global Selling): En el contexto de ventas internacionales, el endpoint para informar el seguimiento es POST /marketplace/shipments/$SHIPMENT_ID/tracking.385.3. Generación de Etiquetas y Gestión de SLAEtiquetas de Envío: La generación de la etiqueta para despachar un paquete se realiza a través de una solicitud GET a /marketplace/shipments/$SHIPMENT_ID/labels. La respuesta es el archivo de la etiqueta en sí, listo para ser impreso.38Endpoint de SLA (Service Level Agreement): Una adición reciente y de vital importancia es el endpoint GET /shipments/$SHIPMENT_ID/sla. Anunciado el 23 de mayo de 2024, este recurso devuelve la fecha y hora máximas (expected_date) en las que un paquete debe ser despachado. Cumplir con este SLA es crítico para mantener una buena reputación.6Identificación de Retrasos: Complementando al SLA, el endpoint GET /shipments/$SHIPMENT_ID/delays permite verificar si un envío ya se considera retrasado, lo que impacta negativamente en las métricas del vendedor.6La introducción de endpoints dedicados para el SLA y los retrasos evidencia un enfoque cada vez mayor de la plataforma en la precisión y el cumplimiento de los tiempos de entrega. Estas no son solo herramientas informativas; son la base sobre la cual se construye la reputación del vendedor. Una integración moderna no puede limitarse a imprimir etiquetas. Debe utilizar el endpoint /sla como el principal criterio de priorización en su interfaz de preparación de pedidos. El sistema debe ordenar los envíos pendientes por la expected_date del SLA, mostrando alertas visuales para aquellos próximos a vencer. La auditoría de una integración existente debe verificar si se tiene en cuenta el SLA de envío; de no ser así, esta es una funcionalidad de alto impacto que debe implementarse para ayudar a los vendedores a proteger su reputación.5.4. Modelos Logísticos AvanzadosMercado Libre ofrece un ecosistema logístico sofisticado, conocido como Mercado Envíos 2, que incluye varias modalidades 4:Fulfillment: En este modelo, el inventario del vendedor se almacena en las bodegas de Mercado Libre, que se encarga de todo el proceso de empaque y envío. La API permite una gestión detallada de este inventario. El flujo implica:Obtener el inventory_id de un producto (o de cada una de sus variaciones) a través de GET /items/$ITEM_ID.Con el inventory_id, consultar el stock disponible en las bodegas (/stock/fulfillment/inventories) y ver un historial detallado de todas las operaciones (ingresos, ventas, ajustes) con /stock/fulfillment/operations/search.40Cross Docking, Flex, Colecta: Son otras modalidades donde el vendedor entrega los paquetes en puntos designados de la red de Mercado Libre (Cross Docking, Colecta) o realiza la entrega final por sus propios medios en un plazo corto (Flex). La API de envíos se adapta para reflejar los estados y requerimientos específicos de cada uno de estos flujos.Sección 6: Procesamiento de Pagos (Mercado Pago)Toda transacción en el marketplace de Mercado Libre es procesada a través de Mercado Pago. Si bien Mercado Pago tiene su propio portal de desarrolladores y una API extremadamente completa para soluciones de pago online y presencial, en el contexto de una integración con el marketplace, las interacciones suelen ser más acotadas y se centran en la consulta de pagos y la gestión de reembolsos.6.1. Estructura y Soluciones de Mercado PagoLa documentación de Mercado Pago está organizada en torno a dos grandes áreas: cobros online y cobros presenciales. Para el marketplace, el flujo de pago es gestionado principalmente por Mercado Libre, pero la API de Mercado Pago ofrece soluciones que pueden ser integradas por marketplaces externos 7:Checkout Pro: El comprador es redirigido al sitio de Mercado Pago para completar la transacción, ofreciendo todos los medios de pago disponibles.41Checkout API (antes Custom Checkout): Permite una experiencia de pago 100% personalizable dentro del sitio del vendedor o marketplace, sin redirecciones. El vendedor es responsable de construir la interfaz de usuario para la recolección de los datos de pago.8Para interactuar con la API de Mercado Pago, se utiliza la URL base https://api.mercadopago.com y se requiere un access_token específico de Mercado Pago, que se gestiona de manera similar al del marketplace.206.2. Endpoints Clave para la Gestión de PagosDentro de una integración de marketplace, los endpoints más relevantes son los que permiten gestionar el ciclo de vida de un pago 8:Crear Pago (POST /v1/payments): Aunque en el flujo de Mercado Libre este paso es automático, en una integración de marketplace se usaría este endpoint para procesar una transacción.Consultar Estado de un Pago (GET /v1/payments/{payment_id}): Este es un endpoint fundamental. Permite obtener el estado detallado de un pago (ej. approved, rejected, in_process) y toda la información asociada, como el medio de pago utilizado y los montos. La API de órdenes de Mercado Libre devuelve el payment_id, que se usa para realizar esta consulta. Recientemente, se ha añadido el parámetro threeds en la respuesta, que informa sobre el estado del protocolo de seguridad 3D Secure para transacciones con tarjeta.45Reembolsos y Cancelaciones: La gestión post-venta a menudo requiere la devolución de dinero al comprador. La API de Mercado Pago facilita esto a través de los siguientes endpoints:Crear un Reembolso (POST /v1/payments/{payment_id}/refunds): Permite realizar un reembolso total o parcial de un pago ya acreditado.Consultar Reembolsos de un Pago (GET /v1/payments/{payment_id}/refunds): Devuelve una lista de todos los reembolsos asociados a un pago específico.6.3. Reportes y ConciliaciónPara una gestión financiera avanzada, la API de Mercado Pago ofrece un robusto sistema de reportes que permite a los vendedores descargar información detallada de sus transacciones para conciliación 8:Reporte de Dinero Liberado: Detalla todos los movimientos de dinero que han sido liberados y están disponibles en la cuenta del vendedor.Reporte de Saldo en Cuenta: Proporciona un estado de cuenta completo, similar a un extracto bancario. Recientemente se añadió la columna TIP_AMOUNT para mostrar las propinas recibidas en una transacción.45El seguimiento de las novedades y el changelog de la API de Mercado Pago es tan importante como el de la API de Mercado Libre, ya que cambios en los parámetros, errores o estructuras de respuesta pueden afectar directamente la capacidad de una integración para procesar y conciliar pagos correctamente.45Sección 7: Comunicaciones y EngagementLa comunicación efectiva entre compradores y vendedores es un pilar de la confianza en el marketplace. La API de Mercado Libre proporciona herramientas para gestionar tanto las comunicaciones previas a la venta (preguntas y respuestas) como las posteriores a la venta (mensajería interna).7.1. Gestión de Preguntas y Respuestas (Pre-Venta)Las preguntas son el principal canal de comunicación antes de una compra. Una gestión rápida y eficaz de las preguntas puede ser decisiva para concretar una venta. La API ofrece un conjunto completo de endpoints para esta tarea 25:Buscar Preguntas:GET /questions/search?item_id=$ITEM_ID: Para obtener todas las preguntas de una publicación específica.GET /my/received_questions/search: Para obtener todas las preguntas recibidas por el vendedor en todas sus publicaciones. Se pueden aplicar filtros por estado (status), como UNANSWERED o ANSWERED.Realizar una Pregunta (POST /questions): Permite a un usuario autenticado hacer una pregunta sobre un ítem, enviando el item_id y el text de la pregunta.Responder una Pregunta (POST /answers): El vendedor responde a una pregunta enviando el question_id y el text de la respuesta. El número máximo de caracteres para una respuesta es de 2000.47Obtener una Pregunta Específica (GET /questions/$QUESTION_ID): Devuelve los detalles completos de una pregunta, incluyendo su respuesta si ya ha sido contestada.Eliminar una Pregunta (DELETE /questions/$QUESTION_ID): Permite a un vendedor eliminar una pregunta de su publicación.Es altamente recomendable suscribirse al tópico de notificaciones questions para recibir alertas en tiempo real cada vez que se recibe una nueva pregunta, permitiendo una respuesta casi inmediata.177.2. Mensajería Post-VentaUna vez realizada la compra, la comunicación se traslada a un canal de mensajería privada. Esta herramienta es crucial para coordinar la entrega, resolver dudas y gestionar cualquier incidencia post-venta.48La API de mensajería opera en el contexto de un pack_id (o order_id si el pack es nulo), que agrupa todos los mensajes de una misma transacción 23:Obtener Mensajes de una Orden (GET /messages/packs/$PACK_ID/sellers/$USER_ID): Devuelve el historial de la conversación de una orden. Por defecto, esta consulta marca los mensajes como leídos. Para evitarlo, se puede añadir el parámetro mark_as_read=false.24Enviar un Mensaje (POST /messages/packs/$PACK_ID/sellers/$USER_ID): Permite al vendedor enviar un mensaje al comprador. El mensaje tiene un límite de 350 caracteres y debe cumplir con las normas de codificación de caracteres ISO-8859-1.24 La API ha evolucionado para que los vendedores deban elegir un motivo para iniciar el contacto, con el fin de reducir las comunicaciones automáticas innecesarias.48Gestión de Archivos Adjuntos: La mensajería permite el intercambio de archivos (imágenes, PDFs, TXT) de hasta 25 MB. El proceso consta de dos pasos 23:Cargar el Adjunto: Se realiza una solicitud POST a /messages/attachments como multipart/form-data, enviando el archivo. La API responde con un ID único para ese adjunto.Enviar el Mensaje con el Adjunto: En la solicitud POST para crear el mensaje, se incluye el ID del adjunto obtenido en el paso anterior dentro del array attachments.Obtener un Adjunto (GET /messages/attachments/$ATTACHMENT_ID): Permite descargar un archivo adjunto conociendo su ID.La mensajería puede ser bloqueada bajo ciertas condiciones, como cuando una orden es cancelada o si hay una mediación en curso.24 Al igual que con las preguntas, la suscripción al tópico de notificaciones messages es la forma más eficiente de mantenerse actualizado sobre nuevas comunicaciones de los compradores.17Sección 8: Salud de la Plataforma y MétricasPara que los vendedores puedan operar de manera exitosa, es fundamental que monitoreen su rendimiento y la calidad de sus publicaciones. La API proporciona varios recursos para obtener estas métricas.8.1. Reputación del VendedorLa reputación es uno de los activos más importantes de un vendedor en Mercado Libre. La API permite consultar esta información a través del endpoint de usuarios (GET /users/{User_id}), que incluye un objeto seller_reputation con el nivel del vendedor (ej. platinum, gold) y un desglose de las métricas que la componen (reclamaciones, cancelaciones, tiempos de despacho).28.2. Calidad de las PublicacionesLa visibilidad de una publicación en los listados de búsqueda depende en gran medida de su calidad. Como se mencionó en la Sección 3, la API permite identificar ítems con problemas de exposición a través del filtro de "salud" (unhealthy, warning) en la búsqueda de ítems de un vendedor.30 Esto permite a las integraciones crear paneles de control que ayuden a los vendedores a identificar y corregir proactivamente las publicaciones que requieren atención.8.3. Métricas de Visitas y TendenciasPara entender el rendimiento y la demanda del mercado, la API ofrece endpoints para 2:Visitas: Permite obtener el número de visitas que han recibido las publicaciones de un vendedor.Tendencias de Búsqueda: Proporciona información sobre los términos más buscados en el sitio, lo que puede ayudar a los vendedores a identificar oportunidades de mercado.Más Vendidos: Permite consultar los productos más vendidos dentro de una categoría específica, ofreciendo una visión clara de la competencia y la demanda.8.4. Moderaciones e InfraccionesMercado Libre tiene políticas estrictas sobre lo que se puede publicar. Cuando una publicación infringe una de estas políticas, puede ser moderada (pausada o eliminada). La API permite a los vendedores identificar las publicaciones que están bajo revisión o que han sido moderadas, y entender el motivo de la infracción para poder corregirla.27 Esto es crucial para evitar que las publicaciones sean desactivadas y para mantener la cuenta del vendedor en buen estado.Sección 9: Mantenimiento y Evolución de la IntegraciónUna integración con Mercado Libre no es un proyecto que se completa y se olvida. La plataforma está en constante evolución, con nuevas funcionalidades, cambios en los recursos existentes y la inevitable deprecación de endpoints antiguos. Un mantenimiento proactivo es esencial para la salud y longevidad de la aplicación.9.1. Sistema de Notificaciones y NovedadesLa principal herramienta para mantenerse actualizado es el propio portal de desarrolladores. Las secciones "Novedades" y "Changelog" son de lectura obligatoria.Novedades del Vendedor (GET /communications/notices): Este endpoint permite a una aplicación obtener las mismas noticias y comunicaciones que Mercado Libre envía a los vendedores en su panel de control. Esto puede incluir anuncios sobre nuevas funcionalidades, cambios en las políticas o eventos importantes.53Tópicos de Notificación: Como se ha mencionado repetidamente, el sistema de notificaciones por webhooks es la forma más eficiente de reaccionar a los cambios en tiempo real. La siguiente tabla resume los tópicos más importantes.TópicoDescripciónEventos que la DisparanImplicación Estratégicaorders_v2Notificaciones sobre la creación y cambios en órdenes de venta confirmadas.Creación de una nueva orden, cambio de estado (ej. de confirmed a paid), cancelación.Crítico. Es el disparador principal para todo el flujo de procesamiento de ventas y logística.itemsNotificaciones sobre cualquier cambio en una publicación del vendedor.Cambio de precio, stock, estado (pausado, activo), o moderaciones.Esencial para mantener la sincronización del inventario y los precios con sistemas externos.questionsNotificaciones sobre nuevas preguntas recibidas o respuestas enviadas.Un comprador realiza una pregunta en una publicación.Muy importante para la atención al cliente pre-venta. Permite respuestas casi inmediatas.messagesNotificaciones sobre nuevos mensajes post-venta recibidos.Un comprador envía un mensaje después de la compra.Muy importante para la atención al cliente post-venta y la gestión de incidencias.shipmentsNotificaciones sobre la creación y cambios de estado en los envíos.Creación de un envío, cambio de estado (ej. ready_to_ship, shipped, delivered).Importante para la automatización de la logística y el seguimiento de los paquetes.claimsNotificaciones relacionadas con reclamaciones de ventas.Un comprador inicia una reclamación.Importante para la gestión proactiva de disputas y la protección de la reputación.Tabla 1: Resumen de Tópicos de Notificación Clave y su Relevancia Estratégica.179.2. Changelog y Anuncios de CambiosEl changelog es el registro oficial de modificaciones en la API. Documenta la adición de nuevos parámetros, cambios en las respuestas, y la introducción de nuevos códigos de error. Revisar periódicamente el changelog es una práctica fundamental de mantenimiento.45 Anuncios importantes, como el cambio a IDs de 64 bits o la separación de cargos en las publicaciones, se comunican a través de la sección de noticias del portal.269.3. Gestión de Endpoints Obsoletos (Deprecations)Periódicamente, Mercado Libre moderniza su API, lo que implica que algunos endpoints antiguos son reemplazados por versiones nuevas y más robustas. La plataforma generalmente anuncia estos cambios con antelación y proporciona un período de convivencia durante el cual tanto el endpoint antiguo como el nuevo funcionan en paralelo, dando tiempo a los desarrolladores para migrar sus integraciones. Ignorar estos anuncios puede llevar a que la aplicación deje de funcionar cuando el endpoint antiguo sea finalmente desactivado.La siguiente tabla resume las deprecaciones más recientes y críticas mencionadas en la documentación.Recurso ObsoletoEndpoint ObsoletoNuevo EndpointFecha de DesactivaciónNivel de CriticidadNotas de MigraciónReclamaciones (Claims)https://api.mercadolibre.com/v1/claims/https://api.mercadolibre.com/post-purchase/v1/claims/6 de Mayo de 2024AltoEl nuevo endpoint /post-purchase centraliza las interacciones post-venta. La migración es obligatoria para seguir gestionando reclamaciones. 54Devoluciones (Returns)https://api.mercadolibre.com/v2/claims/$CLAIM_ID/returnshttps://api.mercadolibre.com/post-purchase/v2/claims/$CLAIM_ID/returns6 de Mayo de 2024AltoAl igual que con las reclamaciones, las devoluciones se mueven al dominio /post-purchase. La funcionalidad es similar, pero bajo una nueva ruta. 55Flujo de Publicación GlobalFlujo antiguo de creación de ítems CBT y luego locales por separado.Nuevo flujo de "Global Listing" en POST /items.30 de Abril de 2024AltoEl nuevo flujo simplifica la publicación global en un solo paso. Las nuevas integraciones deben usarlo obligatoriamente. Las antiguas deben migrar. 29Búsqueda de Ítems.../search?nickname=..., .../search?seller_id=....../users/{User_id}/items/searchProgresivoMedioLa búsqueda de ítems se está centralizando en el endpoint a nivel de usuario, que es más potente y seguro. Se recomienda migrar las búsquedas a este nuevo recurso. 31Tabla 2: Resumen de Endpoints Obsoletos y Rutas de Migración.Sección 10: Conclusiones y Recomendaciones EstratégicasEste análisis exhaustivo de la API de Mercado Libre revela una plataforma madura, compleja y en constante evolución. Para los desarrolladores y gerentes de producto, una integración exitosa y sostenible va más allá de la simple implementación de endpoints. Requiere un enfoque estratégico que abrace los paradigmas de diseño de la plataforma y mantenga un estado de vigilancia constante sobre su evolución.A continuación, se presentan las conclusiones y recomendaciones estratégicas clave derivadas de este informe:Adoptar una Arquitectura Asíncrona y Basada en Eventos: La dependencia del polling es un anti-patrón en el ecosistema de Mercado Libre. La recomendación más importante es diseñar la integración en torno al sistema de notificaciones (webhooks). Utilizar los tópicos (orders_v2, items, questions, etc.) como disparadores para flujos de trabajo asíncronos no solo es más eficiente, sino que alinea la arquitectura de la aplicación con el diseño previsto por la plataforma, garantizando escalabilidad y rendimiento en tiempo real.Priorizar la Adaptación a Cambios Estructurales: El cambio de los IDs de usuario a Int64 es un recordatorio contundente de que la API vive y evoluciona. La auditoría técnica debe identificar y remediar inmediatamente cualquier incompatibilidad con tipos de datos de 64 bits. Este tipo de mantenimiento no es opcional; es un requisito para la continuidad operativa. Se debe establecer un proceso interno para revisar regularmente la sección de "Novedades" y el changelog de la API.Enfocarse en la Calidad y Estructuración de los Datos de Producto: La era de los títulos y descripciones de texto libre como única fuente de información del producto está llegando a su fin. El fuerte impulso de Mercado Libre hacia el Catálogo, los atributos específicos por categoría, los identificadores de producto y las guías de talles es una señal inequívoca. Una integración competitiva debe tener un modelo de datos interno que refleje esta complejidad y que facilite la creación de publicaciones ricas en datos estructurados. Esto no solo mejora la experiencia del comprador, sino que impacta directamente en la visibilidad y el posicionamiento de los productos.Explotar los Endpoints de Métrica y Rendimiento: La API ofrece herramientas poderosas para monitorear y mejorar el rendimiento del vendedor. La integración del nuevo endpoint de SLA de envíos (/shipments/$SHIPMENT_ID/sla) en la lógica de priorización de la preparación de pedidos es un ejemplo claro de cómo la API puede ser utilizada para resolver problemas de negocio reales y proteger la reputación del vendedor. De manera similar, el uso de los filtros de "salud" de las publicaciones permite una gestión proactiva del catálogo.Planificar la Migración de Endpoints Obsoletos con Antelación: La deprecación es un proceso natural en el ciclo de vida de una API. El equipo de desarrollo debe tratar los anuncios de deprecación con seriedad, utilizando los períodos de convivencia para planificar, implementar y probar la migración a los nuevos endpoints, evitando así interrupciones abruptas del servicio.Para facilitar la referencia y la planificación, la siguiente tabla resume los endpoints principales para cada módulo funcional clave discutido en este informe.Módulo FuncionalPropósito PrincipalMétodo HTTPEndpoint PrincipalPublicacionesCrear una nueva publicaciónPOST/itemsModificar una publicación existentePUT/items/$ITEM_IDBuscar publicaciones de un vendedorGET/users/$USER_ID/items/searchÓrdenesObtener los detalles de una ordenGET/orders/$ORDER_IDBuscar órdenes con filtrosGET/orders/searchObtener datos de facturaciónGET/orders/billing-info/$SITE_ID/$BILLING_INFO.IDEnvíosObtener datos de un envíoGET/shipments/$SHIPMENT_IDObtener SLA de despachoGET/shipments/$SHIPMENT_ID/slaImprimir etiqueta de envíoGET/marketplace/shipments/$SHIPMENT_ID/labelsPagosConsultar el estado de un pagoGET/v1/payments/{payment_id}Realizar un reembolsoPOST/v1/payments/{payment_id}/refundsPreguntasObtener preguntas no respondidasGET/my/received_questions/search?status=UNANSWEREDResponder una preguntaPOST/answersMensajeríaObtener mensajes de una ordenGET/messages/packs/$PACK_ID/sellers/$USER_IDEnviar un mensaje post-ventaPOST/messages/packs/$PACK_ID/sellers/$USER_IDTabla 3: Resumen de Endpoints Principales por Módulo Funcional.En conclusión, la API de Mercado Libre ofrece un abanico de posibilidades inmenso para la automatización y la optimización de la venta online. Un producto que logre mantenerse actualizado, que se alinee con las mejores prácticas y que aproveche las herramientas avanzadas que ofrece la plataforma, no solo garantizará su estabilidad técnica, sino que proporcionará un valor diferencial y estratégico a sus usuarios.